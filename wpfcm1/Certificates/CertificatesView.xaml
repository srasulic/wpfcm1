<UserControl x:Class="wpfcm1.Certificates.CertificatesView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:cal="http://www.caliburnproject.org"
             xmlns:conv="clr-namespace:wpfcm1.Converters">
    <UserControl.Resources>
        <conv:InverseBooleanToVisibilityConverter x:Key="ib2vc" />
    </UserControl.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition Width="21"/>
        </Grid.ColumnDefinitions>
        <ComboBox x:Name="Certificates" DisplayMemberPath="CertificateSimpleName" IsSynchronizedWithCurrentItem="True" FontSize="13"
                  cal:Message.Attach="[Event SelectionChanged] = [Action OnSelection($this)]; [EventLoaded] = [Action OnSelection($this)]"  
        />
        <TextBlock Grid.Column="1" Text="!" FontWeight="Bold" FontSize="21" Foreground="{DynamicResource ControlsValidationBrush}" 
                   VerticalAlignment="Center" HorizontalAlignment="Center"
                   Visibility="{Binding ElementName=Certificates, Path=SelectedItem.IsQualified, Converter={StaticResource ib2vc}}"/>
    </Grid>
</UserControl>
