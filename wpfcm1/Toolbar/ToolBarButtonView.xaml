<UserControl x:Class="wpfcm1.Toolbar.ToolBarButtonView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <UserControl.Resources>
        <BooleanToVisibilityConverter x:Key="b2vc"/>
    </UserControl.Resources>
    <Button x:Name="SendMessage" 
            Style="{DynamicResource MahApps.Styles.Button.Circle}" 
            ToolTip="{Binding Description}"
            Visibility="{Binding Path=ButtonVisibility, Converter={StaticResource b2vc}}" 
            Width="56" Height="56" Margin="2">
        <Rectangle Width="22" Height="22"
                   Fill="{Binding Path=Foreground, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Button}}}">
            <Rectangle.OpacityMask>
                <VisualBrush Visual="{Binding Path=ButtonImg}" Stretch="Uniform" />
            </Rectangle.OpacityMask>
        </Rectangle>
    </Button>
</UserControl>
